<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <link rel="stylesheet" href="css/style.css">
      <title>Siena Imaging Test</title>
   </head>
   <body>

    <!-- Logo -->
      <div class="logo">
         <img class="text-center" src="images/range-slider/logo.png" alt="siena-imaging">
      </div>
    <!-- End Logo -->

      <!-- Main Container -->
      <div class="container">

        <!-- Start Top Header -->
         <div class="add-item header">
            <div class="d-flex">
               <p class="m-2">John Doe</p>
               <button class="addItemBtn">+</button>
               <button class="deleteBtn">-</button>
            </div>
         </div>
         <!-- Close Top Header -->

         <!-- Start Choose Image card Html -->
         <div class="container mainCardContainer">
            <div class="row"></div>
         </div>
         <!-- End Choose Image card Html -->

         <!-- Start Main Component conatiner Html -->
         <div class="container">
            <div class="row" id="containerDiv">
               <div class="col-4 col-sm-12 imgBox">
                  <div class="slidecontainer col-4 col-lg-4 col-sm-12 m-0 m-auto">
                     <input type="range" min="1" max="100" value="1" class="slider-range" id="myRange">
                     <p class="text-center">Total Image Ratio: <span id="rangevalue"></span></p>
                  </div>

                  <!-- Start Zoom In/Out buttons Html -->
                  <div class="col-12 text-center m-4 image-zoom">
                     <button class="bi bi-zoom-in" onclick="zoomIn()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-zoom-in" viewBox="0 0 16 16">
                           <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                           <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>
                           <path fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"/>
                        </svg>
                     </button>
                     <button class="bi bi-zoom-out" onclick="zoomOut()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-zoom-out" viewBox="0 0 16 16">
                           <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                           <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>
                           <path fill-rule="evenodd" d="M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
                        </svg>
                     </button>
                  </div>
                  <!-- End Zoom In/Out buttons Html -->

                  <!-- Start Component Image viewer Html -->
                  <div class="imagechange">
                     <img src="images/range-slider/0.png" id="imgchange">
                  </div>
                  <!-- End Component Image viewer Html -->

               </div>
            </div>
         </div>
         <!-- End Component conatiner Html -->
      </div>
      <!-- End Main Contaianer -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
      <script>
         const row = document.querySelector(".row");
         const addItem = document.querySelector(".add-item");
         
         
         
         addItem.addEventListener('click', (e) => {
         if (e.target.className === 'addItemBtn') {
            addCardContent();
         }
         })
         
        //  Add choose file image function 
         function addCardContent() {
         
         let newContainer = document.createElement('div');
         let newCard = document.createElement('div');
         let choose = document.createElement("input");
         
         newCard.className = 'card col-md-4';
         newContainer.className = 'container';
         choose.setAttribute("type","file");
         choose.setAttribute("accept","image/*");
         choose.setAttribute("class","inputImage");
         choose.setAttribute("onchange","readURL(event)");
         newCard.appendChild(newContainer);
         newCard.appendChild(choose);
         row.appendChild(newCard);
         
         }

         //  End choose file image function

 
         //  Delete choose image function
         function deleteCardContent(){
         var cardDiv = document.getElementsByClassName("card");
         
         const err = Object.values(cardDiv);
         
         for(var i = 0;i < err.length; i++){
         
            if(i===err.length-1){
                err[i].remove();
                console.log("i",i)
          console.log("lenght",err.length-1)
            }
         }
        }

         addItem.addEventListener('click', (e) => {
         if (e.target.className === 'deleteBtn') {
            deleteCardContent();
         }
         })
         //  End Delete choose image function
         

         // Start Range Slider 
         let rangevalue = document.getElementById("myRange");
         let setvalue = document.getElementById("rangevalue");
         let imgchangevalue = document.getElementById("imgchange");
         let imageList = document.getElementsByClassName("imageCard");
         
         
         
        //Now will use oninput event.
        rangevalue.oninput = function() {
            let getvalue = rangevalue.value;
            setvalue.innerHTML = this.value;
    
    
            if (getvalue > 0 && getvalue < 6) {
    
                imgchangevalue.setAttribute("src", "images/range-slider/0.png")
            } else if (getvalue >= 17 && getvalue <= 33) {
                imgchangevalue.setAttribute("src", "images/range-slider/1.jpg")
            } else if (getvalue >= 34 && getvalue <= 49) {
                imgchangevalue.setAttribute("src", "images/range-slider/2.png")
            } else if (getvalue >= 50 && getvalue <= 66) {
                imgchangevalue.setAttribute("src", "images/range-slider/3.jpg")
            } else if (getvalue >= 67 && getvalue <= 83) {
                imgchangevalue.setAttribute("src", "images/range-slider/4.jpg")
            } else if (getvalue >= 84 && getvalue <= 99) {
                imgchangevalue.setAttribute("src", "images/range-slider/5.jpg")
            } else if (getvalue >= 100) {
                imgchangevalue.setAttribute("src", "images/range-slider/6.jpg")
            }
        }
         // End Range Slider Javascript
        

        //  Start Zoom In Image function
         function zoomIn() {
         var pic = document.getElementById("imgchange");
         var width = pic.clientWidth;
         pic.style.width = width + 100 + "px";
         }
         
         function zoomOut() {
         var pic = document.getElementById("imgchange");
         var width = pic.clientWidth;
         pic.style.width = width - 100 + "px";
         }
         //  End Zoom In Image

      </script>
   </body>
</html>